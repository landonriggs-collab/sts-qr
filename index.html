<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STS QR Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="card">
    <header>SCAN OR TAP TO TRAIN — STS</header>
    <main>
      <input id="url-input" type="text" value="https://sts.run/FAC1-M03">
      <button id="btn-generate">Generate</button>
      <div id="qr"></div>
      <div class="download-buttons">
        <button id="btn-svg">Download SVG</button>
        <button id="btn-png">Download PNG (hi-res)</button>
      </div>
    </main>
    <footer>Logo ≤15% · Quiet zone preserved · EC-Level H</footer>
  </div>

  <script src="https://unpkg.com/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
  <script>
    const urlInput = document.querySelector("#url-input");
    const qr = new QRCodeStyling({
      width: 320,
      height: 320,
      data: urlInput.value,
      qrOptions: { errorCorrectionLevel: "H" },
      image: "assets/images/sts-logo.png",
      imageOptions: { imageSize: 0.15, margin: 4, crossOrigin: "anonymous" },
      dotsOptions: { type: "square", color: "#000000" },
      backgroundOptions: { color: "#FFFFFF" },
      margin: 24
    });
    qr.append(document.getElementById("qr"));

    document.getElementById("btn-generate").onclick = () => {
      qr.update({ data: urlInput.value });
    };
    document.getElementById("btn-svg").onclick = () => {
      qr.download({ name: "STS-FAC1-M03", extension: "svg" });
    };
    document.getElementById("btn-png").onclick = () => {
      qr.update({ width: 1920, height: 1920 });
      qr.download({ name: "STS-FAC1-M03", extension: "png" });
      qr.update({ width: 320, height: 320 });
    };
  </script>
</body>
</html>
